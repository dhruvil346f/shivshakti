!function(a){SlideDeckLens["tool-kit"]=function(s){var e=function(){for(var a,s=3,e=document.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="<!--[if gt IE "+ ++s+"]><i></i><![endif]-->",n[0];);return s>4?s:a}(),n="tool-kit",t=a(s).slidedeck(),d=t.vertical(),r={};r.slidedeck=t.deck,r.frame=r.slidedeck.closest(".lens-"+n),r.slides=t.slides,r.deckWrapper=r.frame.find(".sd-wrapper"),r.horizNav=r.frame.find(".deck-navigation.horizontal"),r.horizNavPrev=r.frame.find(".deck-navigation.horizontal.prev"),r.horizNavNext=r.frame.find(".deck-navigation.horizontal.next"),r.vertNav=r.frame.find(".deck-navigation.vertical"),r.vertNavPrev=r.frame.find(".deck-navigation.vertical.prev"),r.vertNavNext=r.frame.find(".deck-navigation.vertical.next"),r.slidedeck.find(".sd2-slide-text a").addClass("accent-color"),t.loaded(function(s){var n=!1;r.frame.find(".slidesVertical").length&&(n=!0),n&&(r.slides=s.vertical().slides,d.options.scroll=s.options.scroll?!0:!1);var t=r.frame.parent();slidedeck_fullwidth=function(){var a=jQuery(window).width();t.css({width:a,"max-width":a,left:0-t.parent().offset().left});var s=t.attr("style");t.attr("style",s+"width: "+a+"px !important;"),r.frame.css({width:a+"px",height:"auto",left:0-t.offset().left+"px"}),r.frame.find("dl dd.slide").addClass("sd-fullwidth-active"),r.frame.find(".sd-fullwidth-active").css({width:a+"px !important","margin-top":"0px"});var e;e=700>a?t.find("img").height()+40:r.frame.height()+40},r.frame.parent(".slidedeck-fullwidth-wrapper").length>0&&slidedeck_fullwidth();var i=function(){r.frame.hasClass("sd2-frame")&&jQuery('<div class="sd-lens-shadow-top"></div><div class="sd-lens-shadow-left"></div><div class="sd-lens-shadow-corner"></div>').appendTo(r.slidedeck)},o=function(){if(!r.frame.hasClass("sd2-nav-none")){if(r.frame.hasClass("sd2-nav-video")&&r.frame.addClass("sd2-nav-dots"),deckCount=r.slides.length,jQuery('<div class="sd-nav-wrapper"></div>').appendTo(r.deckWrapper),r.navWrapper=r.frame.find(".sd-nav-wrapper"),jQuery(r.navWrapper).css("box-sizing","border-box"),jQuery('<dl class="sd-nav-deck"></dl>').appendTo(r.navWrapper),r.navDeck=r.navWrapper.find(".sd-nav-deck"),n&&r.frame.hasClass("sd2-nav-thumb")&&(jQuery('<dd><dl class="slidesVertical"></dl></dd>').appendTo(r.navDeck),r.verticalSlides=r.navDeck.find(".slidesVertical")),r.frame.hasClass("sd2-nav-dots")){if(r.frame.hasClass("sd2-nav-video")){if(r.frame.hasClass("sd2-nav-video")){r.navDeck.find(".sd-nav-deck").css({width:"100% !important"}),a(r.slidedeck).slidedeck().options.autoPlay=!0,jQuery('<span class="sd-nav-start "></dd>').appendTo(r.navDeck),r.navDeck.find(".sd-nav-start").click(function(){jQuery(".sd-nav-start").hasClass("sd-nav-start-active")&&(a(r.slidedeck).slidedeck().options.autoPlay=!0,r.navDeck.find(".sd-nav-start").css({"background-position":"-24px 0"}),r.navDeck.find(".sd-nav-stop").css({"background-position":"0px -24px"}),r.navDeck.find(".sd-nav-start").removeClass("sd-nav-start-active"))});for(var t=1;deckCount>=t;)jQuery('<dd class="sd-nav-dot"></dd>').appendTo(r.navDeck),t++;jQuery('<span class="sd-nav-stop"></dd>').appendTo(r.navDeck),r.navDeck.find(".sd-nav-stop").click(function(){jQuery(".sd-nav-start").hasClass("sd-nav-start-active")||(a(r.slidedeck).slidedeck().options.autoPlay=!1,r.navDeck.find(".sd-nav-start").css({"background-position":"0px 0"}),r.navDeck.find(".sd-nav-stop").css({"background-position":"-24px -24px"}),r.navDeck.find(".sd-nav-start").addClass("sd-nav-start-active"))})}}else for(var t=1;deckCount>=t;)jQuery('<dd class="sd-nav-dot"></dd>').appendTo(r.navDeck),t++;if(r.navDots=r.navDeck.find(".sd-nav-dot"),r.navDots.click(function(){a(r.slidedeck).slidedeck().options.autoPlay=!1,s.options.pauseAutoPlay=!0;var e=jQuery(this),t="active";if(r.frame.hasClass("sd2-nav-video"))var i=d.goTo(e.index()),o=s.goTo(e.index());else if(!r.frame.hasClass("sd2-nav-video"))var i=d.goTo(e.index()+1),o=s.goTo(e.index()+1);r.frame.hasClass("sd2-nav-hanging")&&(t="accent-color-background"),r.navDots.removeClass("accent-color-background active"),e.addClass(t),n?i:o}),n){dotSpacing=parseInt(r.navDots.outerHeight()+10),r.navDots.first().css("margin-top",0);var i=dotSpacing*r.navDots.length;r.navDeck.css({height:i}),r.navWrapper.css({height:i,"margin-top":-1*Math.round(i/2)})}else dotSpacing=parseInt(r.navDots.outerWidth()+10),r.navDeck.css("width",dotSpacing*r.navDots.length-parseInt(r.navDots.last().css("margin-left"),10));if(!r.frame.hasClass("sd2-nav-bar")&&!r.frame.hasClass("sd2-nav-hanging")&&!n){var o=parseInt(r.frame.css("padding-left"),10)+20;if(r.frame.hasClass("sd2-nav-pos-top"))var l=o,h="auto";else var l="auto",h=o;var f=-(r.navWrapper.width()/2);r.frame.hasClass("sd2-nav-dots")&&r.frame.hasClass("sd2-nav-pos-top")&&!r.frame.hasClass("sd2-nav-default")&&(f=0),r.frame.hasClass("sd2-nav-dots")&&r.frame.hasClass("sd2-nav-pos-top")&&r.frame.hasClass("sd2-nav-hanging")&&(l/=2),r.navWrapper.css({"margin-left":f,top:l,bottom:h})}if(r.frame.hasClass("sd2-nav-default")&&!r.frame.hasClass("sd2-title-pos-top")&&!r.frame.hasClass("sd2-hide-title")&&!r.frame.hasClass("sd2-title-pos-bottom")&&r.frame.hasClass("sd2-nav-dots")&&!r.frame.hasClass("sd2-small"))if(n)r.frame.hasClass("sd2-nav-default")&&r.frame.hasClass("sd2-nav-dots")&&!r.frame.hasClass("sd2-small")&&r.navWrapper.css({"margin-top":f+m});else{var p=r.frame.find(".sd-node-title-box").outerWidth();if(r.frame.hasClass("sd2-title-pos-right"))var m=-(p/2);else if(r.frame.hasClass("sd2-title-pos-left"))var m=p/2;r.navWrapper.css({"margin-left":f+m})}var u="active";r.frame.hasClass("sd2-nav-hanging")&&(u="accent-color-background"),a(".sd-nav-dot").eq(s.current-1).addClass(u),n&&c(s.options.startVertical-1)}if(r.frame.hasClass("sd2-nav-hanging")&&r.navWrapper.appendTo(r.frame),r.frame.hasClass("sd2-nav-thumb")){var g=73;r.frame.hasClass("sd2-nav-arrow-style-2")&&r.frame.hasClass("sd2-nav-bar")&&(g=85),n?(r.frame.hasClass("sd2-small")&&(g=55),r.frame.hasClass("sd2-nav-arrow-style-2")&&r.frame.hasClass("sd2-nav-bar")&&r.frame.hasClass("sd2-small")&&(g=58),r.navWrapper.css({"padding-top":g,"padding-bottom":g}),r.navWrapper.css("height",r.slidedeck.outerHeight()),r.navDeck.css("height",r.slidedeck.outerHeight()-2*g),r.navWrapper.css({"margin-top":Math.round(r.navWrapper.outerHeight()*-.5),top:"50%"})):(r.navWrapper.css({"padding-left":g,"padding-right":g}),r.navWrapper.css("width",r.slidedeck.outerWidth()),r.navDeck.css("width",r.slidedeck.outerWidth()-2*g),r.navWrapper.css({"margin-left":Math.round(r.navWrapper.outerWidth()*-.5),left:"50%"})),r.navDeck.addClass("thumb");for(var t=1;deckCount>=t;)jQuery('<span class="sd-thumb sd2-custom-title-font"><span class="number">'+t+'</span><span class="inner-image"></span></span>').appendTo(n?r.verticalSlides:r.navDeck),8>=e?r.frame.find("span.sd-thumb .inner-image").eq(t-1)[0].style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+r.slides.eq(t-1).attr("data-thumbnail-src")+"', sizingMethod='scale')":r.frame.find("span.sd-thumb .inner-image").eq(t-1).css("background-image","url("+r.slides.eq(t-1).attr("data-thumbnail-src")+")"),t++;if(singleThumb=r.frame.find(".sd-thumb"),n){thumbHeight=singleThumb.height(),thumbSpacing=parseInt(singleThumb.last().css("margin-bottom")),fullThumb=thumbHeight+thumbSpacing,thumbsPerSlide=Math.floor((r.frame.find(".sd-nav-wrapper").height()+thumbSpacing)/fullThumb);var k=r.verticalSlides.children(".sd-thumb")}else{thumbWidth=parseInt(singleThumb.css("width"),10),thumbSpacing=parseInt(singleThumb.last().css("margin-left"),10),fullThumb=thumbWidth+thumbSpacing,thumbsPerSlide=Math.floor((r.frame.find(".sd-nav-wrapper").width()+thumbSpacing)/fullThumb);var k=r.navDeck.children(".sd-thumb")}k.remove();for(var t=0;deckCount>t;)(0==t||t%thumbsPerSlide==0)&&jQuery('<dd class="thumb-slide"></dd>').appendTo(n?r.verticalSlides:r.navDeck),jQuery(k[t]).appendTo(r.navDeck.find(".thumb-slide").last()),t++;n?(r.verticalSlides.children("dd").wrapInner('<div class="nav-centered"></div>'),r.navDeck.find(".nav-centered").each(function(){var s=Math.round(parseInt(a(this).find(".sd-thumb").last().css("margin-bottom"))/2);a(this).css({"margin-top":a(this).outerHeight()*-.5+s,"margin-left":a(this).outerWidth()*-.5})})):(r.navDeck.children("dd").wrapInner('<div class="nav-centered"></div>'),r.navDeck.find(".nav-centered").each(function(){var s=a(this),e=s.find(".sd-thumb").length,n=fullThumb*e;s.css("width",n)})),r.navDeck.show();var b=!1;s.options.cycle&&(b=!0);var C={hideSpines:!0,cycle:b,keys:!1,scroll:!1};r.navSlideDeck=r.navDeck.slidedeck(C),r.navSlideDeck.vertical(C),r.thumbs=r.navDeck.find(".sd-thumb"),r.navDeck.delegate(".sd-thumb","click",function(e){e.preventDefault();var t=a.data(this,"$this"),i=a.data(this,"thumbIndex");this.style.backgroundColor="",r.thumbs.removeClass("active accent-color-background"),t.addClass("active accent-color-background"),n?(a(r.slidedeck).slidedeck().options.autoPlay=!1,s.options.pauseAutoPlay=!0,d.goTo(i+1)):s.goTo(i+1)}).delegate(".sd-thumb","mouseenter",function(){var s=a.data(this,"$this"),e=a.data(this,"thumbIndex");s||(s=a(this),a.data(this,"$this",s)),e||(e=r.thumbs.index(s),a.data(this,"thumbIndex",e));var n=s.css("background-color"),t=Raphael.getRGB(n),d=Raphael.rgb2hsl(t.r,t.g,t.b);d.l=Math.min(100,120*d.l)/100;var i=Raphael.hsl(d.h,d.s,d.l);s.css("background-color",i)}).delegate(".sd-thumb","mouseleave",function(){this.style.backgroundColor=""}),r.navSlides=r.navDeck.find("dd"),n&&(r.navSlides=r.navDeck.find(".slidesVertical dd")),r.navSlides.length>1&&(jQuery('<a class="deck-navigation-arrows prev" href="#prev" target="_blank"><span>Prev</span></a><a class="deck-navigation-arrows next" href="#next" target="_blank"><span>Next</span></a>').appendTo(r.navWrapper),r.navArrows=r.navWrapper.find(".deck-navigation-arrows"),r.navArrows.click(function(s){switch(s.preventDefault(),a.data(r.navDeck[0],"pauseAutoPaginate",!0),this.href.split("#")[1]){case"next":r.navSlideDeck.next();break;case"prev":r.navSlideDeck.prev()}})),r.frame.find(".sd-nav-deck .sd-thumb").eq(s.current-1).addClass("active accent-color-background"),n?v(s.options.startVertical-1):r.navSlideDeck.goTo(r.navDeck.find(".chrome-thumb.active").parents("dd").index()+1),r.frame.find(".sd-nav-deck .thumb-slide").css({"max-width":"100%"})}}},l=function(){n&&(s=d);var e=s.options.before;if(n&&r.frame.hasClass("sd2-nav-thumb")&&(r.navSlideDeck=r.navSlideDeck.vertical()),s.options.before=function(s){if("function"==typeof e&&e(s),r.frame.hasClass("sd2-nav-dots")){var t="active";r.frame.hasClass("sd2-nav-hanging")&&(t="accent-color-background"),r.navDots.removeClass(t),r.navDots.eq(s.current-1).addClass(t),c(n?s.current:s.current-1)}else r.frame.hasClass("sd2-nav-thumb")&&(v(s.current),a.data(r.navDeck[0],"pauseAutoPaginate")||r.navSlideDeck.goTo(r.navDeck.find(".sd-thumb.active").parents("dd").index()+1),a.data(r.navDeck[0],"pauseAutoPaginate",!1))},n){var t=d.options.complete;d.options.complete=function(a){"function"==typeof t&&t(a),r.frame.hasClass("sd2-nav-dots")||r.frame.hasClass("sd2-nav-thumb")}}},c=function(s){if(r.navDots){var e="active";r.frame.hasClass("sd2-nav-hanging")&&(e="accent-color-background"),r.navDots.removeClass("accent-color-background active"),a(r.navDots[s]).addClass(e)}},v=function(s){if(r.thumbs){n||s--;var e="accent-color-background active";r.thumbs.removeClass(e),a(r.thumbs[s]).addClass(e)}},h=function(){"undefined"!=typeof a.event.special.mousewheel&&r.frame.bind("mousewheel",function(a,s){d.options&&d.options.scroll&&(1==s?c(d.current):-1==s&&c(d.current))})},f=function(){"undefined"!=typeof a.event.special.mousewheel&&r.frame.bind("mousewheel",function(a,s){d.options&&d.options.scroll&&(1==s?v(d.current):-1==s&&v(d.current))})},p=function(){if(r.frame.hasClass("sd2-nav-hanging"),r.frame.hasClass("sd2-frame")&&r.frame.hasClass("sd2-nav-pos-top")&&r.frame.hasClass("sd2-nav-bar")&&r.frame.css("padding-bottom",parseInt(r.frame.css("padding-left"),10)),r.frame.hasClass("sd2-nav-pos-top")&&r.frame.hasClass("sd2-frame")&&r.frame.hasClass("sd2-nav-hanging")&&r.navWrapper.appendTo(r.frame),r.frame.hasClass("sd2-nav-thumb")&&r.frame.hasClass("sd2-nav-arrow-style-2"))if(n){var a=r.navWrapper.outerWidth();r.navWrapper.find(".deck-navigation-arrows").css("height",a)}else{var s=r.navWrapper.outerHeight();r.navWrapper.find(".deck-navigation-arrows").css("width",s)}var e,t=0;r.frame.hasClass("sd2-small")?e=3:r.frame.hasClass("sd2-medium")?e=10:r.frame.hasClass("sd2-large")&&(e=10),r.frame.hasClass("sd2-frame")&&(t=5),r.frame.hasClass("sd2-frame")&&(r.horizNavPrev.css("left",parseInt(r.horizNavPrev.css("left"))+e),r.horizNavNext.css("right",parseInt(r.horizNavNext.css("right"))+e)),r.frame.hasClass("sd2-no-nav")||(r.frame.hasClass("sd2-nav-pos-top")?r.frame.is(".sd2-nav-bar")&&r.horizNav.css("marginTop",parseInt(r.horizNav.css("marginTop"))+Math.round(r.frame.find(".sd-nav-wrapper").outerHeight()/2)-t):(!r.frame.hasClass("sd2-frame")||r.frame.hasClass("sd2-nav-bar"))&&r.frame.is(".sd2-nav-bar, .sd2-nav-hanging")&&r.horizNav.css("marginTop",parseInt(r.horizNav.css("marginTop"))-Math.round(r.frame.find(".sd-nav-wrapper").outerHeight()/2)+t))};o(),i(),l(),p(),h(),f()})},a(document).ready(function(){a(".lens-tool-kit .slidedeck").each(function(){("undefined"==typeof a.data(this,"lens-tool-kit")||null==a.data(this,"lens-tool-kit"))&&a.data(this,"lens-tool-kit",new SlideDeckLens["tool-kit"](this))})})}(jQuery);